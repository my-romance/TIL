# 01. 도커의 기초

### 도커란 무엇인가?

**도커 구성**

- 상주 애플리케이션 (가상화 기술 구현)
- 명령행 도구 (약자 : CLI) (상주 애플리케이션을 조작)



- 실제 개발에서 도커 컨테이너로 배포되는 대상은 주로 웹 어플리케이션이나 API 어플리케이션처럼 항상 가동되는 것들.



### 도커를 사용하는 의의

- 변화하지 않은 실행환경으로 멱등성(Idempotency) 확보
- 코드를 통한 실행 환경 구축 및 애플리케이션 구성
- 실행환경과 애플리케이션의 일치화로 이식성 향상
- 시스템을 구성하는 애플리케이션 및 미들웨어의 관리 용이성



**환경 차이로 인한 문제 방지**

- 환경 차이로 인한 문제 예시 : 
  - B서버에도 같은 애플리케이션을 배포하고 싶은데, 애플리케이션이 A 서버와 다르게 동작함
  - 서버 설정과 설치된 라이브러리가 서버마다 다르면 어쩌지?
- 코드로 관리하는 인프라와 불변 인프라
  - 코드로 관리하는 인프라 : 코드 기반으로 인프라를 정의한다는 개념 → 하지만 멱등성이 보장되지 않음 → **해결책** : 불변 인프라
  - 불변 인프라 : 어떤 시점의 서버 상태(서버 이미지)를 저장해 복제할 수 있게 하자는 개념
  - 도커의 코드로 관리하는 인프라와 불변 인프라 두 개념의 실현
    - 코드로 관리하는 인프라 실현 : 인프라 구성이 Dockerfile로 관리됨
    - 불변 인프라 실현 : 도커의 컨테이너형 가상화 기술 (참조 : 도커는 운영 체제의 대부분을 호스트 운영체제와 공유하므로 그만큼 실행에 걸리는 시간이 수초 가까이 짧아짐 → 불변인프라와 궁합이 잘 맞음.)
- 애플리케이션과 인프라 묶어서 구축하기



**애플리케이션 구성관리의 용이성**

- 도커 컨테이너는 **애플리케이션**과 **인프라**를 함께 담은 상자
- 일정 규모를 넘는 시스템은 주로 여러개의 어플리케이션과 미들웨어를 조합하는 형태로 구성 → 
  즉, 이 컨테이너를 여러개 조합하지 않으면 시스템을 구성할 수 X →
  도커는 필요한 컨테이너를 각각 실행하는 방법으로 이러한 시스템을 구성 →
  But, 각 컨테이너의 의존관계나 실행순서가 어긋나면 제대로 동작하지 않음 →
  **해결책** : 도커 컨테이너 오케스트레이션 시스템. (예시 : 도커 컴포즈(Docker compose) - yaml format으로 작성된 설정파일로 컨테이터를 정의하거나 컨테이너간의 의존관계를 정의)
  - 사용 예시 : 
- **도커 컨테이너 오커스트레이션 시스템** : 여러 서버에 걸쳐 있는 여러 컨테이너를 관리하는 기법.



### 참조 문서

- 도커/쿠버네티스를 활용한 컨테이너 개발 실전 입문 책