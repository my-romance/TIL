# **동시성 프로그래밍, 병렬성 프로그래밍과 비동기 프로그래밍**

### 관련 기본 개념

- 프로세서

  - 프로세서 : 하드웨어적인 측면에서 컴퓨터 내에서 프로그램을 수행하는 하드웨어 유닛. 
  - 대표 예 : 중앙처리장치 (Central Processing Unit - CPU)
  - 한 컴퓨터가 여러 개의 프로세서를 갖는다면 멀티 프로세서라고 함
    - 듀얼 프로세서 : 한 컴퓨터에 두 개의 프로세서가 운용

- 코어

  - 코어 : 프로세서의 주요 연산 회로.
  - 싱글코어 : 하나의 연산회로가 내당되어 있는 것. 
  - 듀얼 코어 : 두개의 연산 회로가 내장되어 있는 것.
  - 멀티코어 프로세서 : 여러 개의 코어를 가진 프로세서(CPU)

- 프로그램(Program)과 프로세스(Process)

  - 프로그램 : 일반적으로 보조기억 장치에 저장된 실행코드. 즉, 생명이 없는 상태
  - 프로세스 : 프로그램을 구동하여 프로그램 자체와 프로그램의 상태가 메모리상에서 실행되는 작업 단위.
    - 프로세스는 각각 독립된 메모리 영역(Code, Data, stack, Heap)을 할당받는다.
    - 동시에 여러개의 프로세스를 운용하는 시분할 방식 → **멀티태스킹**

- 스레드(Thread)

  - 스레드 : 하나의 프로세스 내에서 실행되는 작업흐름의 단위.

  - 보통 한 프로세스는 하나의 스레드를 가지고 있지만, 프로세스 환경에 따라 둘 이상의 스레드를 동시에 실행가능. → **멀티스레딩**

    - 메인 스레드 : 프로그램 실행이 시작될 때부터 동작하는 스레드
    - 서브 스레드 : 메인 스레드가 동작한 이후 생성된 스레드

  - 스레드는 프로세스 내에서 각각 stack만 할당받고 Code, Data, Heap 영역은 공유한다.
  
    <img src="https://cphinf.pstatic.net/mooc/20180211_17/1518312108351HdtX0_PNG/130_0.png" alt="프로세스와 스레드" style="zoom:50%;" /> 

### 동시성 프로그래밍

- 논리적인 용어로 동시에 실행되는 것처럼 보이는 것.
- 동시성을 이용한 싱글코어의 멀티 태스킹은 각 스레드들이 병렬적으로 실행되는 것처럼 보이지만, 사실은 서로 번갈아 가면서 실행되고 있는 방식



### 병렬성(Paralleism) 프로그래밍

- **물리적으로** 동시에 실행되는 것

- 멀티 코어에서 멀티 스레드를 동작시키는 방식으로, 데이터 병렬성과 작업 병렬성으로 나뉨

  - 데이터 병렬성 : 전체 데이터를 나누어 서브 데이터들로 만든 뒤, 서브 데이터들을 병렬처리해서 작업을 빠르게 수행하는 방법

  - 작업 병렬성 : 서로 다른 작업을 병렬 처리

    

### 동시성과 병렬성 차이

동시성 프로그래밍과 병렬성 프로그래밍은 모두 비동기 동작을 구현할 수 있지만, 동작 원리가 다름

- 동시성 : 통장을 만들러 온 N개의 대기열과 한 명 이상의 은행직원
- 병렬성 : 통장을 만들러 온 N개의 대기열과 M명의 은행직원

<img src="https://cphinf.pstatic.net/mooc/20180211_10/1518312555755FIKMl_PNG/130_4.png" alt="동시성과 벙렬성 차이" style="zoom:30%;" />

|                | 동시성               | 병렬성    |
| -------------- | -------------------- | --------- |
| 개념           | 논리적               | 물리적    |
| 동작 가능 환경 | 싱글 코어, 멀티 코어 | 멀티 코어 |



### 참조문서

- https://www.edwith.org/boostcourse-ios/lecture/16866/
- https://developer.mozilla.org/ko/docs/Learn/JavaScript/Asynchronous/Concepts
- https://nachwon.github.io/asyncio-futures/